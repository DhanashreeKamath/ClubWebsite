<!DOCTYPE html>
<!-- saved from url=(0079)https://www.grotto-networking.com/WebSystemsS2020/files/assignments/States.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>File in the Title with the DOM</title>
    <script src="./states.js"></script>
    <link href="states.css" rel="stylesheet">
</head>
<!--YOU CANNOT CHANGE THE HTML HERE! -->
<body>
    <main>
        <h1> States of the States</h1>
        <h3 id="Author"></h3>
        <h3 id="Number"></h3>
        <h3 id="TotalPop"></h3>

        <h2>Most and Least Populous</h2>
        <div id="Population">
            <ol class="most"></ol>
            <ol class="least"></ol>
        </div>
        <section id="InfoTables">
            <section id="AlphaName">
                <h2>Alphabetical By Name</h2>
                <table>
                    <thead>
                        <tr>
                            <td>Name</td>
                            <td>Population</td>
                            <td>Nickname</td>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>

            <section id="AlphaCapital">
                <h2>Alphabetical By State Capital</h2>
                <table>
                    <thead>
                        <tr>
                            <td>Capital</td>
                            <td>Name</td>
                            <td>Admission Date</td>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>
        </section>
    </main>

    <script>
        /* Your code here, I broke my work into four main
        functions as listed below, plus helper functions for
        array methods.
        fiveMost();
        fiveLeast();
        stateTableName();
        stateTableCapital();
        */

        document.title = "States stuff by hs4947";
        document.getElementById("Author").innerHTML =  "Dhanashree Kamath K";


        document.getElementById("Number").innerHTML = states.length + " " + "states";


        // total population
        let initialValue = 0
        let totalPopulation = states.reduce(
            (accumulator, currentValue) => accumulator + currentValue.population
            , initialValue
            )

        console.log(totalPopulation);
        document.getElementById("TotalPop") .innerHTML = " Total US population = " + totalPopulation;


        //sort states array by population
        states.sort(function (a, b) {
          return a.population - b.population;
        });


        fiveMost();
        fiveLeast();
        stateTableName();
        stateTableCapital();

        function fiveLeast()
        {
            states.slice(0,5).map(item => addLi(item,"least"));
        }

        function fiveMost()
        {
            states.slice(45,50).map(item => addLi(item,"most"));
        } 

        function addLi(stateItem, className) {
            var liChild = document.createElement("li");
            var childInfo = document.createTextNode(stateItem.state+" has "+stateItem.population+" people");
            liChild.appendChild(childInfo);
            document.getElementsByClassName(className)[0].appendChild(liChild);
        }


        states.sort(function(a, b) {
        var nameA = a.state// ignore upper and lowercase
        var nameB = b.state // ignore upper and lowercase
        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
        // names must be equal
        return 0;
        });

        function stateTableName() {
            var sectionElem = document.getElementById('AlphaName');
            var tbodyElem = sectionElem.getElementsByTagName("tbody");
            states.map(stateItem => addTablebyName(stateItem, tbodyElem));
        }

        function addTablebyName(stateItem, tbodyElem) {
            var trChild = document.createElement("tr");
            var tdNameChild = document.createElement("td");
            var tdNameText = document.createTextNode(stateItem.state);
            var tdPopulationChild = document.createElement("td");
            var tdPopulationText = document.createTextNode(stateItem.population);
            var tdNickNameChild = document.createElement("td");
            var tdNickNameText = document.createTextNode(stateItem.nickname);
            tdNameChild.appendChild(tdNameText);
            trChild.appendChild(tdNameChild);
            tdPopulationChild.appendChild(tdPopulationText);
            trChild.appendChild(tdPopulationChild);
            tdNickNameChild.appendChild(tdNickNameText);
            trChild.appendChild(tdNickNameChild);
            tbodyElem[0].appendChild(trChild);
        }

        //Sort by capital in alphabetical order
        states.sort(function(a, b) {
          var nameA = a.capital_city// ignore upper and lowercase
          var nameB = b.capital_city // ignore upper and lowercase
          if (nameA < nameB) {
            return -1;
          }
          if (nameA > nameB) {
            return 1;
          }

          // names must be equal
          return 0;
        });

        function stateTableCapital(){
            var sectionElem = document.getElementById('AlphaCapital');
            var tbodyElem = sectionElem.getElementsByTagName("tbody");
            states.map(stateItem => addTablebyCapital(stateItem,tbodyElem));
        }

        function addTablebyCapital(stateItem,tbodyElem) {
            var trChild = document.createElement("tr");
            var tdCapitalChild = document.createElement("td");
            var tdCapitalText = document.createTextNode(stateItem.capital_city);
            var tdNameChild = document.createElement("td");
            var tdNameText = document.createTextNode(stateItem.state);
            var tdAdDateChild = document.createElement("td");
            var tdAdDateText = document.createTextNode(stateItem.admission_date);
            tdCapitalChild.appendChild(tdCapitalText);
            trChild.appendChild(tdCapitalChild);
            tdNameChild.appendChild(tdNameText);
            trChild.appendChild(tdNameChild);
            tdAdDateChild.appendChild(tdAdDateText);
            trChild.appendChild(tdAdDateChild);
            tbodyElem[0].appendChild(trChild)
        }
    </script>



</body></html>